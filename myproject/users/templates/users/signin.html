{% extends 'layout.html' %}
{% load static %}
{% block title %}Sign In{% endblock %}

{% block content %}
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card shadow-lg border-0 rounded-4">
        <div class="card-body p-5">
          <h2 class="card-title text-center mb-4">Sign In</h2>
          <form method="POST">
            {% csrf_token %}
              {% if request.GET.next %}
                <input type="hidden" name="next" value="{{ request.GET.next }}">
              {% endif %}
            {% for field in form %}
              <div class="mb-3">
                {{ field.label_tag }}
                {{ field }}
                {% if field.errors %}
                  <div class="text-danger small">
                    {{ field.errors }}
                  </div>
                {% endif %}
              </div>
            {% endfor %}
            <button type="submit" class="btn btn-primary w-100">Sign In</button>
          </form>
          <p class="mt-3 text-center">
            Don't have an account?
            <a href="{% url 'users:sign_up' %}">Sign Up</a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
  const form = document.querySelector('.card form');
  if (form) {
    const inputs = form.querySelectorAll('input');
    inputs.forEach(input => {
      if (input.type !== 'hidden') {
        input.classList.add('form-control');
      }
    });
    const labels = form.querySelectorAll('label');
    labels.forEach(label => label.classList.add('form-label'));
  }
});
</script>
{% endblock %}